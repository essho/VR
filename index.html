<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <title>VR Hand Tracking & Movement</title>
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-extras@7.2.0/dist/aframe-extras.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component/dist/aframe-environment-component.min.js"></script>
</head>
<body>

    <a-scene webxr="optionalFeatures: hand-tracking, hit-test" 
             renderer="colorManagement: true; physicallyCorrectLights: true;">
        
        <a-entity environment="preset: starry; groundColor: #445; grid: none"></a-entity>

        <a-entity id="rig" movement-controls="fly: false; speed: 0.1" position="0 0 0">
            
            <a-entity camera position="0 1.6 0" look-controls></a-entity>

            <a-entity id="leftHand" 
                      hand-tracking-controls="hand: left; modelStyle: mesh"
                      laser-controls="hand: left"
                      raycaster="objects: .clickable; far: 2"
                      line="color: yellow; opacity: 0.5">
            </a-entity>

            <a-entity id="rightHand" 
                      hand-tracking-controls="hand: right; modelStyle: mesh"
                      laser-controls="hand: right"
                      raycaster="objects: .clickable; far: 2"
                      line="color: yellow; opacity: 0.5">
            </a-entity>
        </a-entity>


        <a-entity position="0 1.5 -1" rotation="0 0 0">
            <a-box class="clickable" position="-0.5 0 0" width="0.3" height="0.3" depth="0.1" color="red"
                   animation__click="property: scale; startEvents: click; from: 0.8 0.8 0.8; to: 1 1 1; dur: 150">
                   <a-text value="RED" align="center" z-offset="0.06"></a-text>
            </a-box>
            
            <a-box class="clickable" position="0 0 0" width="0.3" height="0.3" depth="0.1" color="green"
                   animation__click="property: scale; startEvents: click; from: 0.8 0.8 0.8; to: 1 1 1; dur: 150">
                   <a-text value="GREEN" align="center" z-offset="0.06"></a-text>
            </a-box>

            <a-box class="clickable" position="0.5 0 0" width="0.3" height="0.3" depth="0.1" color="blue"
                   animation__click="property: scale; startEvents: click; from: 0.8 0.8 0.8; to: 1 1 1; dur: 150">
                   <a-text value="BLUE" align="center" z-offset="0.06"></a-text>
            </a-box>
        </a-entity>

        <a-box position="-2 0.5 -3" color="orange"></a-box>
        <a-sphere position="2 1 -4" radius="0.5" color="purple"></a-sphere>
        <a-cylinder position="0 2 -6" radius="0.5" height="4" color="white"></a-cylinder>

    </a-scene>

    <script>
        // كود بسيط لتغيير لون السماء عند ضغط الأزرار للتأكد من التفاعل
        document.querySelectorAll('.clickable').forEach(el => {
            el.addEventListener('click', function() {
                // عند "النقر" أو "القرص" على المكعب
                let color = this.getAttribute('color');
                console.log("Clicked color: " + color);
                // تغيير لون البيئة كدليل بصري
                document.querySelector('a-scene').setAttribute('background', 'color', color);
            });
        });
    </script>
</body>
</html>